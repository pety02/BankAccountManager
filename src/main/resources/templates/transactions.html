<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/head::head('Bank Account Manager: Bank Account Transactions')"></head>
<body>
<div th:replace="fragments/menu::navbar"></div>
<h1>Accounts</h1>
<div>
    <a href="/bank-accounts" class="btn btn-primary">Back</a>
    <a href="/transactions/last-ten" class="btn btn-info">Last 10</a>
    <a href="/transactions/last-twenty" class="btn btn-info">Last 20</a>
    <a href="/transactions/last-fifty" class="btn btn-info">Last 50</a>
</div>
<a onclick="openCloseNewTransactionForm();" class="btn btn-primary">New Bank Account</a>
<table class="table">
    <thead>
    <tr>
        <th scope="col">Date</th>
        <th scope="col">Money</th>
        <th scope="col">Reason</th>
        <th scope="col">Type</th>
        <th scope="col">Counterparty Name</th>
        <th scope="col">Recipient Name</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="transaction : ${bankAccountTransactions}">
        <td th:text="${transaction.dateTime}"></td>
        <td th:text="${transaction.money}"></td>
        <td th:text="${transaction.reason}"></td>
        <td th:text="${transaction.type}"></td>
        <td th:text="${transaction.counterparty.iban}"></td>
        <td th:text="${transaction.recipient.iban}"></td>
    </tr>
    </tbody>
</table>
<div th:replace="fragments/foot::foot"></div>

<script>
    "use strict"
    function openCloseNewTransactionForm() {
        var newTrForm = document.getElementById('newTrForm');
        if(newTrForm.style.display === "none") {
            newTrForm.style.display = "block";
        } else {
            newTrForm.style.display = "none";
        }
    }
</script>
</body>
</html>